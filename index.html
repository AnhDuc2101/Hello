<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title> Hello Con G√°i </title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --red-velvet: #a71d2a;
            --gold-gradient: linear-gradient(45deg, #bf953f, #fcf6ba, #b38728, #fcf6ba, #aa771c);
            --bg: #e0e0e0;
        }

        * { box-sizing: border-box; }

        body {
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: var(--bg);
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            touch-action: manipulation;
            cursor: pointer; /* Con tr·ªè ch·ªâ tay ƒë·ªÉ bi·∫øt l√† b·∫•m ƒë∆∞·ª£c */
        }

        /* --- PH·∫¶N CH·ª®A CHUNG ƒê·ªÇ CƒÇN GI·ªÆA --- */
        .center-container {
            position: relative;
            width: 90vw;
            max-width: 500px;
            height: 70vh; /* Chi·ªÅu cao linh ho·∫°t ƒë·ªÉ ch·ª©a c·∫£ ·∫£nh d·ªçc v√† thi·ªáp */
            max-height: 600px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* --- PH·∫¶N HI·ªÇN TH·ªä MEME --- */
        #meme-stage {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.3s ease;
        }

        #meme-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        /* --- PH·∫¶N THI·ªÜP C∆Ø·ªöI (STAGE C≈®) --- */
        #invitation-stage {
            position: relative;
            width: 100%;
            aspect-ratio: 500 / 350; /* T·ªâ l·ªá khung phong b√¨ ngang */
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0; /* ·∫®n m·∫∑c ƒë·ªãnh */
            pointer-events: none; /* Kh√¥ng nh·∫≠n click khi ·∫©n */
            transition: opacity 0.5s ease;
        }

        /* Khi k√≠ch ho·∫°t stage thi·ªáp */
        #invitation-stage.active {
            opacity: 1;
            pointer-events: auto;
        }

        /* CSS C≈® C·ª¶A PHONG B√å & THI·ªÜP */
        .envelope {
            position: absolute;
            inset: 0;
            background-color: var(--red-velvet);
            background-image: url('https://www.transparenttextures.com/patterns/paper-fibers.png');
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 30;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.5s ease;
        }

        .gold-text {
            text-align: center;
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 2px 2px rgba(0,0,0,0.3));
        }

        .shuangxi { font-size: 15vw; max-font-size: 80px; margin-bottom: 5px; }
        .names { font-family: 'Dancing Script', cursive; font-size: 8vw; max-font-size: 40px; }
        .hearts { font-size: 5vw; max-font-size: 24px; }

        .card-horizontal {
            position: absolute;
            width: 92%;
            height: 85%;
            background: white;
            z-index: 20;
            border-radius: 5px;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .card-vertical {
            position: absolute;
            width: 80%;
            height: 160%;
            background: white;
            z-index: 10;
            border-radius: 8px;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.1);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            opacity: 0;
            pointer-events: none;
        }

        .card-content-img { width: 100%; height: 100%; object-fit: contain; }

        /* Hi·ªáu ·ª©ng c√°c b∆∞·ªõc c·ªßa thi·ªáp */
        #invitation-stage.step-1 .card-horizontal { transform: translateY(-30%); z-index: 40; }
        #invitation-stage.step-2 .card-vertical { opacity: 1; transform: translateY(-5%); z-index: 50; pointer-events: auto; }
        #invitation-stage.step-2 .card-horizontal { opacity: 0.3; }

        /* --- D√íNG CH·ªÆ G·ª¢I √ù B√äN D∆Ø·ªöI --- */
        .hint {
            position: fixed;
            bottom: 30px;
            font-size: 16px;
            font-weight: bold;
            color: #333;
            background: rgba(255,255,255,0.85);
            padding: 12px 24px;
            border-radius: 30px;
            z-index: 100;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        /* Class ti·ªán √≠ch ƒë·ªÉ ·∫©n hi·ªán */
        .hidden { display: none !important; opacity: 0; }

        @media (min-width: 500px) {
            .shuangxi { font-size: 80px; }
            .names { font-size: 40px; }
            .hearts { font-size: 24px; }
        }
    </style>
</head>
<body>

<div class="center-container">

    <div id="meme-stage">
        <img id="meme-image" src="" alt="Meme">
    </div>

    <div id="invitation-stage" class="hidden">
        <div class="envelope">
            <div class="gold-text">
                <div class="shuangxi">Âõç</div>
                <div class="names">Anh ƒê·ª©c</div>
                <div class="hearts">‚ô°‚ô°</div>
                <div class="names">Ph∆∞∆°ng Anh</div>
            </div>
        </div>
        <div class="card-horizontal">
            <img class="card-content-img" src="Thi·ªáp%20M·ªùi%20BKL.png" alt="Card 1">
        </div>
        <div class="card-vertical">
            <img class="card-content-img" src="Tr√¢n%20tr·ªçng%20k√≠nh%20m·ªùi.png" alt="Card 2">
        </div>
    </div>

</div>

<div class="hint" id="statusText"></div>

<script>
    // C·∫•u h√¨nh d·ªØ li·ªáu cho c√°c b∆∞·ªõc
    // steps 0-3: Meme tr∆∞·ªõc thi·ªáp
    // steps 4-6: C√°c tr·∫°ng th√°i c·ªßa thi·ªáp (ƒê√≥ng -> M·ªü 1 -> M·ªü 2)
    // steps 7-9: Meme sau thi·ªáp
    const sequenceData = [
        { type: 'meme', img: 'H√¨nh_1.jpg', text: 'Hello!! B·∫•m ti·∫øp ƒëi =))' },           // Step 0
        { type: 'meme', img: 'H√¨nh_2.jpg', text: 'Nh√¨n gi√® @~@ B·∫•m ti·∫øp ƒëi!!' },         // Step 1
        { type: 'meme', img: 'H√¨nh_3.jpg', text: 'L√™u l√™u ch∆∞a t·ªõi. B·∫•m ti·∫øp ƒëi=)))' },  // Step 2
        { type: 'meme', img: 'H√¨nh_4.jpg', text: 'ƒê√∫ng r√≤i, t·ªõi r√≤i n√®' },               // Step 3
        { type: 'invite', state: 'closed', text: 'B·∫§M V√ÄO PHONG B√å ƒê·ªÇ M·ªû ‚ù§Ô∏è' },            // Step 4
        { type: 'invite', state: 'step-1', text: 'B·∫§M TI·∫æP V√ÄO THI·ªÜP ‚ù§Ô∏è' },                // Step 5
        { type: 'invite', state: 'step-2', text: 'TR√ÇN TR·ªåNG K√çNH M·ªúI! ‚ù§Ô∏è' },              // Step 6
        { type: 'meme', img: 'H√¨nh_5.jpg', text: 'ƒê√∫ng r√≤i...M nghƒ© ƒë√∫ng roi ƒë·∫•y!!' },   // Step 7
        { type: 'meme', img: 'H√¨nh_6.jpg', text: 'ƒê√∫ng ƒê√∫ng...T s·∫Øp l·∫•y v·ª£ d√≤i ü•πüòûüò≠' }, // Step 8
        { type: 'meme', img: 'H√¨nh_7.jpg', text: 'R√°ng s·∫Øp x·∫øp ƒë·∫øn d·ª± nh√°. ƒê·ª£i m·ªói t·ª•i m thoi ƒë·∫•y ü•πüòû' } // Step 9
    ];

    let currentStep = 0;

    const memeStage = document.getElementById('meme-stage');
    const memeImage = document.getElementById('meme-image');
    const inviteStage = document.getElementById('invitation-stage');
    const statusText = document.getElementById('statusText');

    // H√†m c·∫≠p nh·∫≠t giao di·ªán d·ª±a tr√™n b∆∞·ªõc hi·ªán t·∫°i
    function updateView() {
        // N·∫øu ƒë√£ ƒëi h·∫øt c√°c b∆∞·ªõc th√¨ d·ª´ng l·∫°i
        if (currentStep >= sequenceData.length) return;

        const data = sequenceData[currentStep];

        // C·∫≠p nh·∫≠t d√≤ng ch·ªØ g·ª£i √Ω v·ªõi hi·ªáu ·ª©ng nh·∫π
        statusText.style.opacity = 0;
        setTimeout(() => {
            statusText.innerText = data.text;
            statusText.style.opacity = 1;
        }, 200);

        if (data.type === 'meme') {
            // Hi·ªÉn th·ªã ch·∫ø ƒë·ªô Meme
            inviteStage.classList.remove('active');
            setTimeout(() => {
                inviteStage.classList.add('hidden');
                memeStage.classList.remove('hidden');

                // ƒê·ªïi ·∫£nh meme v·ªõi hi·ªáu ·ª©ng m·ªù
                memeStage.style.opacity = 0;
                setTimeout(() => {
                    memeImage.src = data.img;
                    memeStage.style.opacity = 1;
                }, 200);
            }, 300);

        } else if (data.type === 'invite') {
            // Hi·ªÉn th·ªã ch·∫ø ƒë·ªô Thi·ªáp
            memeStage.style.opacity = 0;
            setTimeout(() => {
                memeStage.classList.add('hidden');
                inviteStage.classList.remove('hidden');

                // Reset c√°c class tr·∫°ng th√°i c·ªßa thi·ªáp tr∆∞·ªõc khi add class m·ªõi
                inviteStage.classList.remove('step-1', 'step-2');
                if (data.state !== 'closed') {
                    inviteStage.classList.add(data.state);
                }

                // K√≠ch ho·∫°t hi·ªÉn th·ªã thi·ªáp
                setTimeout(() => {
                    inviteStage.classList.add('active');
                }, 100);
            }, 300);
        }
    }

    // Kh·ªüi t·∫°o tr·∫°ng th√°i ban ƒë·∫ßu
    updateView();

    // S·ª± ki·ªán click to√†n m√†n h√¨nh ƒë·ªÉ chuy·ªÉn b∆∞·ªõc
    document.body.addEventListener('click', () => {
        if (currentStep < sequenceData.length - 1) {
            currentStep++;
            updateView();
        }
    });

</script>
</body>
</html>